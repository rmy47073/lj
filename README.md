# YOLOv10 实时物体检测系统 - 使用说明

## 项目结构
```
lj/
├── app/                    # 主应用模块
│   ├── config/            # 配置文件
│   ├── model/             # YOLO模型相关
│   ├── service/           # 业务逻辑服务
│   ├── util/              # 工具类（摄像头处理）
│   └── routes.py          # API路由
├── static/                # 静态资源
├── templates/            # HTML模板
├── videos/               # 视频文件目录（已创建）
├── app.py               # 应用入口
├── yolov10n.pt         # YOLO模型文件
└── test_camera.py       # 摄像头测试工具
```

## 摄像头连接问题解决方案

### 1. 已修复的问题
- 修复了模型文件路径错误（从 `models/yolo11n.pt` 改为 `yolov10n.pt`）
- 创建了缺失的 `videos` 文件夹
-  改进了摄像头错误处理和调试信息
- 添加了摄像头参数设置以提高兼容性

### 2. 摄像头测试
运行以下命令测试摄像头：
```bash
# 测试所有可用摄像头
python test_camera.py

# 测试指定摄像头ID
python test_camera.py 0
```

### 3. 启动应用
```bash
python app.py
```

### 4. 访问应用
打开浏览器访问：http://localhost:5000

### 5. 使用步骤
1. 选择源类型：电脑摄像头
2. 设置摄像头ID（通常为0）
3. 点击"开始检测"
4. 如果摄像头无法连接，请检查：
   - 摄像头是否被其他程序占用
   - 浏览器是否允许摄像头权限
   - 摄像头驱动是否正常

### 6. 常见问题解决

#### 摄像头无法连接
1. **检查摄像头权限**：确保浏览器允许访问摄像头
2. **检查摄像头占用**：关闭其他使用摄像头的程序
3. **尝试不同摄像头ID**：使用测试工具找到正确的摄像头ID
4. **检查驱动**：确保摄像头驱动正常安装

#### 模型文件问题
- 确保 `yolov10n.pt` 文件在项目根目录
- 文件大小应该约为几MB

#### 视频文件功能
- 将视频文件放入 `videos` 文件夹
- 支持常见视频格式（mp4, avi, mov等）

### 7. 技术细节
- 后端使用OpenCV处理摄像头
- 前端使用jQuery进行AJAX通信
- 支持实时视频流显示
- 包含物体检测、跟踪和统计功能
